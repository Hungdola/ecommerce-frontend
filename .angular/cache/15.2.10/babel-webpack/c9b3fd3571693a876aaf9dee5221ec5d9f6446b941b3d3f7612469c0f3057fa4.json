{"ast":null,"code":"import { AuthComponent } from 'src/app/Module/auth/auth.component';\nimport { select } from '@ngrx/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"src/app/State/User/user.service\";\nimport * as i4 from \"@ngrx/store\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/menu\";\nimport * as i9 from \"./nav-content/nav-content.component\";\nfunction NavbarComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.handleOpenLoginModal());\n    });\n    i0.ɵɵtext(1, \" LOGIN \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NavbarComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 17);\n    i0.ɵɵelement(5, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-menu\", null, 19)(8, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_div_20_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.navigateTo(\"account/orders\"));\n    });\n    i0.ɵɵtext(9, \"Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 21);\n    i0.ɵɵtext(11, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 21);\n    i0.ɵɵtext(13, \"Logout\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(7);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.userProfile.firstName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r5);\n  }\n}\nfunction NavbarComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"app-nav-content\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"selectedSection\", ctx_r2.currentSection);\n  }\n}\nexport class NavbarComponent {\n  constructor(router, dialog, userService, store) {\n    this.router = router;\n    this.dialog = dialog;\n    this.userService = userService;\n    this.store = store;\n    this.handleOpenLoginModal = () => {\n      this.dialog.open(AuthComponent, {\n        width: \"400px\",\n        disableClose: false\n      });\n    };\n  }\n  ngOnInit() {\n    if (localStorage.getItem(\"jwt\")) this.userService.getUserProfile();\n    this.store.pipe(select(store => store.user)).subscribe(user => {\n      this.userProfile = user.userProfile;\n      if (this.userProfile) {\n        this.dialog.closeAll();\n      }\n      console.log(\"user \", user);\n    });\n  }\n  openNavbarContent(section) {\n    this.isNavbarContentOpen = true;\n    this.currentSection = section;\n  }\n  closeNavbarContent() {\n    this.isNavbarContentOpen = false;\n  }\n  navigateTo(path) {\n    this.router.navigate([path]);\n  }\n  onDocumentClick(event) {\n    const modalContainer = document.querySelector(\".modal-container\");\n    const openButtons = document.querySelectorAll(\".open-button\");\n    let clickInsideButton = false;\n    openButtons.forEach(button => {\n      if (button.contains(event.target)) {\n        clickInsideButton = true;\n      }\n    });\n    if (modalContainer && !clickInsideButton && this.isNavbarContentOpen) {\n      this.closeNavbarContent();\n    }\n  }\n  static #_ = this.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.Store));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    hostBindings: function NavbarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function NavbarComponent_click_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 22,\n    vars: 3,\n    consts: [[1, \"fixed\", \"top-0\", \"z-50\", \"right-0\", \"left-0\", \"bg-[#69f0ae]\", \"text-gray-800\"], [1, \"px-5\", \"lg:px-20\", \"flex\", \"h-16\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\"], [1, \"mr-5\"], [\"alt\", \"Code With Hung\", \"src\", \"https://scontent.fhan20-1.fna.fbcdn.net/v/t39.30808-6/432754577_1443625109565162_3425650207360433284_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=5f2048&_nc_eui2=AeH9hyolQFzqYZeXkZ_fAExMxGiFyDe0Wr3EaIXIN7RavaQYQx8xPIqZvrSPioEm4CZVJQ9R5CHSD190ftjk8HmT&_nc_ohc=PrFDOWGiOJIAb7IVSFj&_nc_ht=scontent.fhan20-1.fna&oh=00_AfDo9FKFddPJqupN8eo_PKfZIye4hSCCBI46tG-8zwvhnQ&oe=661601F8\", 1, \"w-8\"], [1, \"\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [\"routerLink\", \"/\", 1, \"text-gray-800\", \"font-semibold\", \"text-lg\"], [\"mat-button\", \"\", 1, \"open-button\", 3, \"click\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-raised-button\", \"\", \"type\", \"\", \"color\", \"accent\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"relative ml-3 flex items-center\", 4, \"ngIf\"], [\"class\", \"absolute right-0 left-0 modal-container\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"type\", \"\", \"color\", \"accent\", 3, \"click\"], [1, \"relative\", \"ml-3\", \"flex\", \"items-center\"], [1, \"flex\", \"items-center\", \"space-x-5\"], [1, \"font-bold\", \"text-lg\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [\"src\", \"https://cdn.pixabay.com/photo/2016/08/18/11/00/man-1602633_640.png\", \"alt\", \"\", 1, \"h-8\", \"w-8\"], [\"profileMenu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"], [\"mat-menu-item\", \"\"], [1, \"absolute\", \"right-0\", \"left-0\", \"modal-container\"], [3, \"selectedSection\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"a\", 7);\n        i0.ɵɵtext(8, \" Shop Hung momo \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\")(10, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_button_click_10_listener() {\n          return ctx.openNavbarContent(\"men\");\n        });\n        i0.ɵɵtext(11, \"Men\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\")(13, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_button_click_13_listener() {\n          return ctx.openNavbarContent(\"women\");\n        });\n        i0.ɵɵtext(14, \"Women\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(15, \"div\", 2)(16, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_button_click_16_listener() {\n          return ctx.navigateTo(\"cart\");\n        });\n        i0.ɵɵelementStart(17, \"mat-icon\");\n        i0.ɵɵtext(18, \"shopping_cart\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(19, NavbarComponent_button_19_Template, 2, 0, \"button\", 10);\n        i0.ɵɵtemplate(20, NavbarComponent_div_20_Template, 14, 2, \"div\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(21, NavbarComponent_div_21_Template, 2, 1, \"div\", 12);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngIf\", !ctx.userProfile);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userProfile);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isNavbarContentOpen);\n      }\n    },\n    dependencies: [i5.NgIf, i6.MatIcon, i7.MatButton, i7.MatIconButton, i8.MatMenu, i8.MatMenuItem, i8.MatMenuTrigger, i9.NavContentComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuYXZiYXIuY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvTW9kdWxlL3NoYXJlZC9jb21wb25lbnRzL25hdmJhci9uYXZiYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9LQUFvSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["AuthComponent","select","i0","NavbarComponent","constructor","router","dialog","userService","store","open","width","disableClose","ngOnInit","localStorage","getItem","getUserProfile","pipe","user","subscribe","userProfile","closeAll","console","log","openNavbarContent","section","isNavbarContentOpen","currentSection","closeNavbarContent","navigateTo","path","navigate","onDocumentClick","event","modalContainer","document","querySelector","openButtons","querySelectorAll","clickInsideButton","forEach","button","contains","target","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["D:\\project-angular-sale-website\\ecommerce-angular\\src\\app\\Module\\shared\\components\\navbar\\navbar.component.ts","D:\\project-angular-sale-website\\ecommerce-angular\\src\\app\\Module\\shared\\components\\navbar\\navbar.component.html"],"sourcesContent":["import { userReducer } from './../../../../State/User/user.reducer';\nimport { Component, HostListener, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AuthComponent } from 'src/app/Module/auth/auth.component';\nimport { UserService } from 'src/app/State/User/user.service';\nimport { Store, select } from '@ngrx/store';\nimport { AppState } from 'src/app/Models/AppState';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class NavbarComponent implements OnInit {\n\n  currentSection:any\n  isNavbarContentOpen: any\n  userProfile: any\n\n  constructor(private router: Router, private dialog: MatDialog, private userService: UserService, private store: Store<AppState>) {}\n\n  ngOnInit(): void {\n    if(localStorage.getItem(\"jwt\")) this.userService.getUserProfile()\n\n    this.store.pipe(select((store) => store.user)).subscribe((user) => {\n      this.userProfile = user.userProfile\n      if(this.userProfile) {\n        this.dialog.closeAll()\n      }\n      console.log(\"user \", user)\n    })\n  }\n\n  \n  openNavbarContent(section: any) {\n    this.isNavbarContentOpen=true\n    this.currentSection = section\n  }\n\n  closeNavbarContent() {\n    this.isNavbarContentOpen = false\n  }\n\n  navigateTo(path: any) {\n    this.router.navigate([path])\n  }\n\n  @HostListener('document: click', [`$event`])\n  onDocumentClick(event: MouseEvent) {\n    const modalContainer = document.querySelector(\".modal-container\")\n    const openButtons = document.querySelectorAll(\".open-button\");\n\n    let clickInsideButton = false\n\n    openButtons.forEach((button: Element)=>{\n      if(button.contains(event.target as Node)) {\n        clickInsideButton= true\n      }\n    })\n\n    if(modalContainer && !clickInsideButton && this.isNavbarContentOpen) {\n      this.closeNavbarContent()\n    }\n  }\n\n  handleOpenLoginModal =()=> {\n    this.dialog.open(AuthComponent, {\n      width: \"400px\",\n      disableClose: false\n    })\n  }\n\n\n\n}\n\n\n","<div class=\"fixed top-0 z-50 right-0 left-0 bg-[#69f0ae] text-gray-800 \">\n    <div  class=\"px-5 lg:px-20 flex h-16 items-center justify-between\">\n        <div class=\"flex items-center\">\n            <div class=\"mr-5\">\n                <img alt=\"Code With Hung\" class=\"w-8\" src=\"https://scontent.fhan20-1.fna.fbcdn.net/v/t39.30808-6/432754577_1443625109565162_3425650207360433284_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=5f2048&_nc_eui2=AeH9hyolQFzqYZeXkZ_fAExMxGiFyDe0Wr3EaIXIN7RavaQYQx8xPIqZvrSPioEm4CZVJQ9R5CHSD190ftjk8HmT&_nc_ohc=PrFDOWGiOJIAb7IVSFj&_nc_ht=scontent.fhan20-1.fna&oh=00_AfDo9FKFddPJqupN8eo_PKfZIye4hSCCBI46tG-8zwvhnQ&oe=661601F8\" >\n            </div>\n    \n            <div class=\"\">\n                <div class=\"flex items-center space-x-4\">\n                    <a routerLink=\"/\" class=\"text-gray-800 font-semibold text-lg\">\n                        Shop Hung momo\n                    </a>\n                    <div>\n                        <!-- như cái này là đang dùng material angular nề cái mat-button đó*-->\n                        <button class=\"open-button\" mat-button (click)=\"openNavbarContent('men')\">Men</button>\n                    </div>\n                    <div>\n                        <!-- như cái này là đang dùng material angular nề cái mat-button đó*-->\n                        <button class=\"open-button\" mat-button (click)=\"openNavbarContent('women')\">Women</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"flex items-center\">\n            <button mat-icon-button (click)=\"navigateTo('cart')\">\n                <mat-icon>shopping_cart</mat-icon>\n            </button>\n\n            <button (click)=\"handleOpenLoginModal()\" *ngIf=\"!userProfile\" mat-raised-button type=\"\" color=\"accent\">\n                LOGIN\n            </button>\n\n            <div *ngIf=\"userProfile\" class=\"relative ml-3 flex items-center\">\n                <div class=\"flex items-center space-x-5\">\n                    <span class=\"font-bold text-lg\">{{userProfile.firstName}}</span>\n\n                    <button mat-button [matMenuTriggerFor]=\"profileMenu\"> <!-- cái này là vào trong angular material coppy mẫu menu này -->\n                        <img class=\"h-8 w-8\" src=\"https://cdn.pixabay.com/photo/2016/08/18/11/00/man-1602633_640.png\" alt=\"\">\n                    </button>\n\n                    <mat-menu #profileMenu=\"matMenu\">\n                        <button (click)=\"navigateTo('account/orders')\" mat-menu-item>Orders</button>\n                        <button mat-menu-item>Profile</button>\n                        <button mat-menu-item>Logout</button>\n                      </mat-menu>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"isNavbarContentOpen\" class=\"absolute right-0 left-0 modal-container\">\n        <app-nav-content [selectedSection]=\"currentSection\"></app-nav-content>\n    </div>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}